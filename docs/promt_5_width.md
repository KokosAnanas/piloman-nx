# Задача: стабильная (не “дёргающаяся”) таблица реестра + Tailwind-first + корректный горизонтальный скролл + стиль Sakai

Контекст: страница **«Реестр сварных соединений»** с PrimeNG `p-table`, есть Draft-строка (inline-форма добавления). В проекте используется оформление в стиле **PrimeNG Sakai** и пресеты (Aura/Lara/Nora и т.п.). Требуется, чтобы верстка была стабильной и не ломалась при переключении пресетов/тем.
Возможно частично уже что-то реализовано. Исправь, если не грамотно что-то реализовано.

## Требования (обязательно)
### A) Фиксированная ширина таблицы и колонок
1) Сделай таблицу **с фиксированной раскладкой колонок** и **стабильной шириной**:
  - ширина таблицы фиксированная (в рамках контентной области), колонки не перерасчитываются от контента.
2) Ширины колонок задай **примерно под контент** (в px). Я потом подкорректирую каждую:
  - ширины должны задаваться единообразно для `th` и `td`.

### B) Draft-строка не изменяет layout
3) При появлении Draft-строки:
  - **ширины колонок не меняются**,
  - таблица **не “дёргается”**.
4) Инпуты/контролы внутри Draft-ячейки должны **подстраиваться под ширину ячейки**:
  - всегда `w-full`,
  - и не иметь минимальной ширины, которая распирает колонку (`min-w-0`).

### C) Поведение контента в body: ширина не растёт, растёт высота до лимита, дальше троеточие
5) При увеличении контента в ячейках:
  - ширина ячейки **не увеличивается**,
  - контент может переноситься, и **высота ячейки растёт** до заданного лимита,
  - после лимита — **обрезка с троеточием**.
  - (Нужно именно “многострочно до N строк/высоты, потом …”, а не просто одна строка.)

### D) TailwindCSS only в шаблоне + Tailwind-first по порядку стилей
6) В шаблоне использовать **только TailwindCSS**:
  - без новых CSS/SCSS файлов,
  - без inline `style=""`,
  - без `::ng-deep`,
  - без `!` перед классами.
7) Поменяй порядок подключения стилей в проекте так, чтобы **TailwindCSS был первым** (в сборке/конфиге), чтобы Tailwind-классы не приходилось “пробивать” через `!`.

### E) Очень широкая таблица + горизонтальный скролл не должен быть под сайдбаром
8) Если таблица очень широкая и появляется горизонтальный скролл:
  - область прокрутки таблицы **никогда не должна оказываться под сайдбаром** и не должна перекрывать его.
  - решение должно работать **адаптивно** (desktop/sidebar static и mobile/sidebar overlay).
  - скролл должен быть **внутри контентной области**, а не на уровне всей страницы.

### F) Совместимость со стилем Sakai и пресетами Aura/Lara/Nora
9) Таблица должна соответствовать стилю **Sakai**:
  - скругление углов, границы, отступы должны выглядеть как в Sakai.
  - при переключении пресетов/тем (Aura/Lara/Nora) ничего не ломается: таблица сохраняет корректные border-radius/borders и общий вид.

---

## Реализация (что именно сделать)
### 1) Стабильные ширины колонок через метаданные `cols`
- Вынеси описание колонок в массив `cols`:
  - `{ field, header, widthClass }`
- `widthClass` — Tailwind ширина в px (`w-[120px]`, `w-[160px]`, `w-[220px]` и т.д.)
- Применяй один и тот же `widthClass` и к `th`, и к `td`.

### 2) Зафиксировать раскладку таблицы
- На table-элемент (через доступный класс PrimeNG `styleClass`/`tableStyleClass`) применить:
  - `table-fixed w-full`
- Контейнер таблицы:
  - `w-full min-w-0 overflow-x-auto`

### 3) Draft-строка и инпуты
- В Draft-ячейках:
  - обёртка ячейки: `min-w-0`
  - инпуты/контролы PrimeNG: `w-full min-w-0`
- Никакие инпуты не должны иметь `min-width`, который раздвигает колонку.

### 4) Многострочная обрезка до лимита + троеточие
- Для body-контента в ячейке (не для Draft) используй внутренний `<div>`:
  - разреши перенос: `whitespace-normal break-words`
  - ограничь высоту/число строк:
    - предпочтительно `line-clamp-*` (например `line-clamp-2` или `line-clamp-3`)
  - и обязательно `overflow-hidden` для скрытия лишнего
- Если в проекте нет line-clamp:
  - подключи Tailwind плагин `@tailwindcss/line-clamp` и используй `line-clamp-*`.

### 5) Горизонтальный скролл не под сайдбаром (layout fix)
- Проверь layout-контейнеры страницы (shell):
  - внешний контейнер: `flex w-full`
  - sidebar: `shrink-0 relative z-20`
  - контент: `flex-1 min-w-0 relative z-0`
- Ключевое: `min-w-0` на контенте + `overflow-x-auto` на контейнере таблицы внутри контента.
- Скролл таблицы должен жить только внутри контентной части и не выходить за неё.

### 6) Tailwind-first порядок стилей
- Обнови конфигурацию проекта (angular.json/project.json + общий styles файл), чтобы:
  - Tailwind директивы подключались первыми:
    - `@tailwind base;`
    - `@tailwind components;`
    - `@tailwind utilities;`
  - порядок в `styles` массива сборки выставлен так, чтобы Tailwind подключался раньше остальных.
- Цель: больше не использовать `!` в Tailwind классах для перебивания стилей.

### 7) Визуальное соответствие Sakai и пресетам
- Не “прибивай” цвета/границы вручную.
- Используй классы, совместимые с PrimeNG/Sakai:
  - обёртка таблицы: `rounded-2xl` (или тот радиус, который соответствует Sakai в проекте)
  - `overflow-hidden` на внешней обёртке, чтобы скругление работало с header/body
- Границы оставь на стороне PrimeNG темы/пресета (не ломай их кастомными цветами).
- Проверь, что при смене пресета Aura/Lara/Nora:
  - border, radius, padding и фон выглядят корректно и не конфликтуют.

---

## Acceptance criteria
- Колонки имеют заданные px-ширины и не меняются от контента.
- Draft-строка не вызывает перерасчёт ширин и не “дёргает” таблицу.
- Инпуты в Draft всегда ровно по ширине ячейки (`w-full min-w-0`).
- Контент в body переносится и увеличивает высоту до лимита, далее — троеточие.
- Горизонтальная прокрутка таблицы ограничена контентной зоной и не заезжает под sidebar (адаптивно).
- Tailwind подключён первым и `!` больше не требуется.
- Внешний вид соответствует Sakai и не ломается при смене пресетов Aura/Lara/Nora.
