# Задача: переход из таблицы стыков на дашборд выбранного стыка (Nx + Angular + PrimeNG + Tailwind)

Ты работаешь в монорепозитории Nx `piloman-nx` (есть `apps/*` и доменная область `libs/welds/*`).  
Нужно: при наведении и клике по строке таблицы стыков (PrimeNG Table) открывать страницу **дашборда конкретного стыка**.

---

## 1) Поведение таблицы (список/реестр стыков)

### Найди в проекте страницу/компонент, где отображается таблица стыков (PrimeNG `<p-table>`)
- В шаблоне таблицы включи ховер и single selection:
  - `[rowHover]="true"`
  - `selectionMode="single"`
  - `dataKey="id"` (или фактический уникальный ключ стыка)
  - `[metaKeySelection]="false"` (чтобы один клик выбирал строку без Ctrl/⌘)
- В body template добавь визуальный курсор и “кликабельность” ТОЛЬКО через Tailwind классы:
  - на `<tr>`: `class="cursor-pointer"`
  - (опционально) hover подсветка Tailwind: например `hover:bg-black/5 dark:hover:bg-white/5` (но только через Tailwind и в соответствии с темой и пресетами)

### Навигация по клику
- Используй событие PrimeNG `onRowSelect` (или эквивалент в текущей реализации таблицы).
- В обработчике делай `router.navigate(...)` на маршрут дашборда выбранного стыка.
- Маршрут выбери в формате (рекомендуется):
  - `/welds/:weldId/dashboard`
  - где `weldId` — id/номер стыка из данных строки (лучше id, т.к. номера стыков могут дублироваться, а номер показывать в UI).

> Важно: если в строке есть кнопки/ссылки/инпуты — они не должны триггерить переход. Для таких элементов добавь `(click)="$event.stopPropagation()"`.

---

## 2) Маршрутизация и Nx-архитектура (обязательно)

### Требования к размещению кода
- `apps/web` — только wiring/роутинг верхнего уровня (никакой бизнес-логики).
- Вся фича дашборда — в `libs/welds/*`.

### Создай фичу дашборда как отдельную библиотеку
Создай (или используй существующую структуру, если уже есть) библиотеку:
- `libs/welds/feature-weld-dashboard/`
  - standalone route/component
  - export routes через `src/index.ts` (public API)

### Подключи lazy route в `apps/web`
- В корневом роутинге `apps/web` добавь lazy-load маршрута:
  - path: `welds/:weldId/dashboard`
  - `loadChildren`/`loadComponent` — укажи на public API фичи из `libs/welds/feature-weld-dashboard`

---

## 3) Страница дашборда стыка (UI компоновка)

### Компонент дашборда
Сделай standalone страницу, например:
- `WeldDashboard`

#### Источник параметра
- Достань `weldId` из роут-параметра (`ActivatedRoute` / `toSignal` / `paramMap`).
- Отобрази **в заголовке** номер/идентификатор стыка: `Стык № {weldId}`.

### Шаблон (только Tailwind в `class=""`)
Дашборд — это `<p-fluid>` (PrimeNG Fluid) и внутри несколько виджетов-карточек.

**Структура:**
- Вверху: заголовок с номером стыка.
- Ниже: 2 колонки (на десктопе):
  - слева `w-1/2` — виджет параметров стыка
  - справа `w-1/2` — два виджета один под другим (заключения, нормы отбраковки)

**Пример разметки (адаптивно):**
- Контейнер: `class="flex flex-col lg:flex-row gap-4"`
- Левая колонка: `class="w-full lg:w-1/2"`
- Правая колонка: `class="w-full lg:w-1/2 flex flex-col gap-4"`

---

## 4) Виджеты (каждый — отдельный компонент)

Создай 3 отдельных standalone компонента-виджета в домене `welds`, например:
- `libs/welds/ui-weld-params-widget/` → selector: `<app-weld-params-widget>`
- `libs/welds/ui-weld-test-reports-widget/` → `<app-weld-test-reports-widget>`
- `libs/welds/ui-weld-norms-widget/` → `<app-weld-norms-widget>`

Каждый виджет:
- Шаблон: `<p-card>...</p-card>`
- Стили: только Tailwind в `class=""` (без scss/css файлов)
- Принимает входной параметр: `@Input() weldId: string` (или через signals input), чтобы потом подключить данные.

---

## 5) Данные (минимум сейчас, но подготовь правильно)
- Если уже есть `libs/welds/data-access` и/или store — используй их.
- Если нет — подготовь место:
  - `libs/welds/data-access` для API клиента `WeldsApiService`
  - `libs/welds/store` (Signals Store) для состояния текущего стыка/виджетов (позже)

На этом шаге допускаются заглушки (“TODO: загрузка данных”), но:
- маршрут должен открываться,
- `weldId` должен отображаться,
- верстка должна соответствовать требованиям.

---

## Acceptance Criteria
- Наведение и клик по строке таблицы стыков визуально понятны (hover + cursor pointer).
- Клик по строке открывает `/welds/:weldId/dashboard` (lazy-loaded).
- На дашборде в заголовке отображается номер/ID стыка.
- Внутри `<p-fluid>` расположены 3 виджета `<p-card>`:
  - слева 1 виджет (1/2),
  - справа 2 виджета столбцом (1/2).
- Стили ТОЛЬКО через `class="..."` в шаблонах.
- Реализация соответствует Nx boundaries: apps — wiring, domain — в `libs/welds/*`.

